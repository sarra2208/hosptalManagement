<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <button class="btn btn-primary" (click)="openAddModal()">Add New Patient</button>
  </div>

  <div class="table-responsive">
    <table class="table table-hover table-bordered bg-light">
      <thead class="table-light">
        <tr>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Age</th>
          <th>Assigned Doctor</th>
          <th>Last Appointment</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let patient of paginatedPatients">
          <td>{{ patient.firstName }}</td>
          <td>{{ patient.lastName }}</td>
          <td>{{ patient.age }}</td>
          <td>{{ patient.assignedDoctor }}</td>
          <td>{{ patient.lastAppointment | date }}</td>
          <td>
            <button class="btn btn-sm btn-danger me-1" (click)="deletePatient(patient)">Delete</button>
            <button class="btn btn-sm btn-warning me-1" (click)="modifyPatient(patient)">Modify</button>
            <button class="btn btn-sm btn-info" (click)="downloadFile(patient)">Download</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <nav>
    <ul class="pagination justify-content-center">
      <li class="page-item" [class.disabled]="currentPage === 1">
        <a class="page-link" (click)="goToPage(currentPage - 1)">Previous</a>
      </li>
      <li
        class="page-item"
        *ngFor="let page of totalPagesArray"
        [class.active]="page === currentPage"
      >
        <a class="page-link" (click)="goToPage(page)">{{ page }}</a>
      </li>
      <li class="page-item" [class.disabled]="currentPage === totalPages">
        <a class="page-link" (click)="goToPage(currentPage + 1)">Next</a>
      </li>
    </ul>
  </nav>

 <app-add-patient
  *ngIf="showAddModal"
  [patient]="editingPatient"
  (patientSaved)="onPatientSaved($event)"
  (close)="closeAddModal()">
</app-add-patient>
</div>


















<div
  id="pdf-content"
  style="
    position: absolute;
    left: -9999px;
    top: 0;
    width: 600px;
    background: white;
    padding: 20px;
    text-align: center;
    font-family: Arial, sans-serif;
    border: 1px solid #ccc;
  "
>
  <h2>Patient Information</h2>
  <hr />
  <p><strong>First Name:</strong> {{ selectedPatient?.firstName }}</p>
  <p><strong>Last Name:</strong> {{ selectedPatient?.lastName }}</p>
  <p><strong>Age:</strong> {{ selectedPatient?.age }}</p>
  <p><strong>Assigned Doctor:</strong> {{ selectedPatient?.assignedDoctor }}</p>
  <p><strong>Last Appointment:</strong> {{ selectedPatient?.lastAppointment | date: 'longDate' }}</p>
</div>
